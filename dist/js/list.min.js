"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}var Product=function(){function t(){_classCallCheck(this,t),this.$nav=$("#header-right ul li"),this.$nav_a=$(".line-center ul li a"),this.$serch_a2=$("#a2"),this.$sort=$(".sort-item"),this.$product=$(".product-list .product"),this.$btn=$(".product-list .product .opt-btns .toCart"),this.$page_nav=$(".Page-navigation .pagination li"),this.$pro=$(".product .img img"),this.$price_1=$(".product .price .span2"),this.$price_2=$(".product .price .span3"),this.$author=$(".product .author a"),this.$publisher_a=$(".product .publisher a"),this.$publisher_span=$(".product .publisher span"),this.$to_cart=$(".product>.opt-btns>.toCart"),this.init(),this.page_1(),this.page_2(),this.page_3(),this.addEvent()}return _createClass(t,[{key:"init",value:function(){var o=this;this.$nav.each(function(){var t=this;$(this).hover(function(){$(t).css("backgroundColor","#a40000")},function(){$(t).css("backgroundColor","#e4393c")})}),$("#href").on("click",function(){location.href="./goods.html"}),this.$nav_a.each(function(){var t=this;$(this).hover(function(){$(t).css("color","#dc0014")},function(){$(t).css("color","#666")})}),this.$serch_a2.mouseenter(function(){$(this).css("color","#dc0014")}),this.$serch_a2.mouseleave(function(){$(this).css("color","black")}),this.$sort.each(function(){var t=this;$(this).hover(function(){$(t).css("backgroundColor","#fff")},function(){$(t).css("backgroundColor","#f7f7f7")})}),this.$product.each(function(){var t=this;$(this).on({mouseenter:function(){$(t).css("border","2px solid #e4393c"),$(t).children().eq(5).children().first().css("background","#fdefef")},mouseleave:function(){$(t).css("border","1px solid #eee"),$(t).children().eq(5).children().first().css("background","#fff")}})}),this.$page_nav.each(function(){var t=this;$(this).on({mouseenter:function(){$(t).css("backgroundColor","#f7f7f7"),$(t).children().css("color","#db2a41")},mouseleave:function(){$(t).css("backgroundColor","#fff"),$(t).children().css("color","#666")}})}),$.get("../lib/list.json",function(t){for(var e=0;e<20;e++)$(o.$pro[e]).attr("src",t["book".concat(e+1)].src),$(o.$price_1[e]).text(t["book".concat(e+1)].price),$(o.$price_2[e]).text(t["book".concat(e+1)].o_price),$(o.$author[e]).text(t["book".concat(e+1)].writer),$(o.$publisher_a[e]).text(t["book".concat(e+1)].press),$(o.$publisher_span[e]).text(t["book".concat(e+1)].time),$(o.$pro[e]).attr("class","book".concat(e+1))}),console.log()}},{key:"page_1",value:function(){var o=this;$(this.$page_nav).eq(1).click(function(){$(o.$price_2).text(""),$(o.$author).text(""),$(o.$publisher_a).text(""),$(o.$price_1).text(""),$(o.$pro).attr("src",""),$(o.$publisher_span).text(""),$.get("../lib/list.json",function(t){for(var e=0;e<20;e++)$(o.$pro[e]).attr("src",t["book".concat(e+1)].src),$(o.$price_1[e]).text(t["book".concat(e+1)].price),$(o.$price_2[e]).text(t["book".concat(e+1)].o_price),$(o.$author[e]).text(t["book".concat(e+1)].writer),$(o.$publisher_a[e]).text(t["book".concat(e+1)].press),$(o.$publisher_span[e]).text(t["book".concat(e+1)].time),$(o.$pro[e]).attr("class","book".concat(e+1))})})}},{key:"page_2",value:function(){var o=this;$(this.$page_nav).eq(2).click(function(){$(o.$price_2).text(""),$(o.$author).text(""),$(o.$publisher_a).text(""),$(o.$price_1).text(""),$(o.$pro).attr("src",""),$(o.$publisher_span).text(""),$.get("../lib/list2.json",function(t){for(var e=0;e<20;e++)$(o.$pro[e]).attr("src",t["book".concat(e+1)].src),$(o.$price_1[e]).text(t["book".concat(e+1)].price),$(o.$price_2[e]).text(t["book".concat(e+1)].o_price),$(o.$author[e]).text(t["book".concat(e+1)].writer),$(o.$publisher_a[e]).text(t["book".concat(e+1)].press),$(o.$publisher_span[e]).text(t["book".concat(e+1)].time),$(o.$pro[e]).attr("class","book".concat(e+21))})})}},{key:"page_3",value:function(){var o=this;$(this.$page_nav).eq(3).click(function(){$(o.$price_2).text(""),$(o.$author).text(""),$(o.$publisher_a).text(""),$(o.$price_1).text(""),$(o.$pro).attr("src",""),$(o.$publisher_span).text(""),$.get("../lib/list3.json",function(t){for(var e=0;e<20;e++)$(o.$pro[e]).attr("src",t["book".concat(e+1)].src),$(o.$price_1[e]).text(t["book".concat(e+1)].price),$(o.$price_2[e]).text(t["book".concat(e+1)].o_price),$(o.$author[e]).text(t["book".concat(e+1)].writer),$(o.$publisher_a[e]).text(t["book".concat(e+1)].press),$(o.$publisher_span[e]).text(t["book".concat(e+1)].time),$(o.$pro[e]).attr("class","book".concat(e+41))})})}},{key:"addEvent",value:function(){this.$to_cart.each(function(){var p=this;$(this).click(function(){var t=$(p).parent().parent().children().first().children().eq(0).attr("class"),e=$(p).parent().parent().children().first().children().eq(0).attr("src"),o=$(p).parent().parent().children().eq(1).children().eq(1).text(),r=$(p).parent().parent().children().eq(1).children().eq(2).text(),c=$(p).parent().parent().children().eq(3).children().eq(0).text(),i=$(p).parent().parent().children().eq(4).children().eq(0).text(),n=$(p).parent().parent().children().eq(4).children().eq(1).text(),a=window.localStorage,s=a.getItem("books")?a.getItem("books"):"",s=convertStrToObj(s);book_id in s?s[t].num++:s[t]={num:1,pic:e,price1:o,price2:r,author:c,publisher:i,time:n},a.setItem("books",JSON.stringify(s))})})}}]),t}();new Product;